---
layout: single
title: "Introduction to APIs"
authors: ['Leah Wasser', 'Carson Farmer', 'Max Joseph']
excerpt: "In this module, you learn various ways to access, download and work with data programmatically. These methods include downloading text files directly from a website onto your computer and into R, reading in data stored in text format from a website, into a data.frame in R and finally, accessing subsets of particular data using REST API calls in R."
modified: '2019-08-23'
category: [courses]
class-lesson: ['intro-APIs-r']
permalink: /courses/earth-analytics/get-data-using-apis/intro-to-programmatic-data-access-r/
nav-title: "API Intro"
module-title: "Introduction to programmatic data access in R"
module-description: "In this module, you learn various ways to access, download and work with data programmatically. These methods include downloading text files directly from a website onto your computer and into R, reading in data stored in text format from a website, into a data.frame in R and finally, accessing subsets of particular data using REST API calls in R. "
module-nav-title: 'APIs'
module-type: 'class'
class-order: 2
course: "earth-analytics"
week: 13
sidebar:
  nav:
author_profile: false
comments: true
order: 1
topics:
  find-and-manage-data: ['apis']
redirect_from:
   - "/courses/earth-analytics/week-10/intro-to-programmatic-data-access-r/"
---

{% include toc title = "In This Lesson" icon="file-text" %}

<div class='notice--success' markdown="1">

## <i class="fa fa-graduation-cap" aria-hidden="true"></i> Learning Objectives

After completing this tutorial, you will be able to:

* Describe the difference between human vs machine readable data structures.
* Describe the difference between data returned using an API, compared to downloading a text file directly.
* Describe 2-3 components of a RESTful API call.
* List 3 different ways to access data programmatically from R: using `download.file()`, `read.csv()` and an API call.

## <i class="fa fa-check-square-o fa-2" aria-hidden="true"></i> What You Need

You will need a computer with internet access to complete this lesson.

</div>

## Access Data Programmatically

This week you will learn programmatic access of data using:

1. Direct downloads / import of data.
2. Applied Programming Interfaces (APIs).

Up until this point, you have been downloading data from a website (in the case of
this course, <a href="https://figshare.com/authors/_/3386570" target="_blank">Figshare</a>) independently.
Then you work with the data in `R`. The data that you have downloaded
are prepared specifically for this course. However, independently downloading
and unzipping data, each week is not efficient and does not explicitly tie your
data to your analysis.

You can automate the data download process using `R`. Automation is particularly useful
when:

* You want to download lots of data or particular subsets of data to support an analysis.
* If and when there are programmatic ways to access and query the data online.

### Link Data Access to Processing & Analysis
When you automate data access, download or retrieval and embed it in your code,
you are **directly** linking your analysis to your data. Further combined with
R markdown reports, code comments and expressive coding techniques, you are better
documenting your workflow. In short - by linking data access and download to your
analysis - you are not only reminding your future selves of your process - you are
also reminding your future self where (and how) you got the data in the first place!

## Three Ways to Access Data
You can break up programmatic data access into three general categories:

1. Data that you download directly by calling a specific URL and or by using the `download.file()` function call.
1. Data that you directly import into R using a call to `read.csv()` or `read.table()`.
1. Data that you download using an API which makes a **request** to a data repository and **returns** requested data.

### Two Key Formats

The data that you access programmatically may be returned in one of two main formats:

1. **Tabular Human-readable file:** Files that are tabular, include csv's (Comma Separated Values) and even spreadsheets (Microsoft Excel, etc.). These files are organized into columns and rows and "flat" in structure rather than hierarchical.
2. **Structured Machine-readable files:** Files that are sometimes stored in a text format but are hierarchical and structured in some way that optimizes machine readability.


<i class="fa fa-lightbulb-o" aria-hidden="true"></i> **Data Tip:** There are non text formatted hierarchical data structures that you will not learn in this module. One example of this is the hdf5 data model (structure).
{: .notice--success}

### Download Files Programmatically

In week one of this course, you downloaded some data using the `download.file()`
function. In this case, you accessed data programmatically, but you first downloaded
it as a `.csv` to your computer, and then proceeded to open it and work with it in
`R`.


```r

# download text file to a specified location on your computer
download.file(url = "https://ndownloader.figshare.com/files/7010681",
             destfile = "data/week-13/boulder-precip-aug-oct-2013.csv")
```






